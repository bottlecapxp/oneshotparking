{"ast":null,"code":"var _jsxFileName = \"/Users/bottlecapmedia/Documents/Applications/OneShot Parking/src/Pages/LongTimeSelection.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Picker from 'react-scrollable-picker';\nimport { useContext, useEffect, useState } from 'react/cjs/react.development';\nimport { PaymentContext } from '../Context/PaymentContext';\nimport CircleBtnsImg from '../Components/Buttons/CircleBtn_img/CircleBtnsImg';\nimport PaymentGenerator from '../Components/Financials/Calculator/PaymentGenerator';\nimport ScrollableDatePicker from '../Components/ScrollableDatePicker/ScrollableDatePicker';\n/**\n* @author\n* @function LongTimeSelection\n**/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LongTimeSelection = props => {\n  _s();\n\n  const {\n    totalbilling,\n    setBilling\n  } = useContext(PaymentContext);\n  var mins = [];\n  var hrs = [];\n  var month_days = [];\n  const date = new Date();\n\n  const get_days_of_month = (month, year) => {\n    return new Date(year, month, 0).getDate();\n  };\n\n  const find_todays_remaining_hrs = 24 - date.getHours();\n  const days_in_current_month = get_days_of_month(date.getMonth(), date.getFullYear());\n  const options = {\n    month: 'long'\n  };\n  const current_month = new Intl.DateTimeFormat('en-US', options).format();\n  const [selectedDate, setSelectedDate] = useState({\n    date: '',\n    hours: 0,\n    minutes: 0\n  });\n\n  const setExpiredTime = (name, val, groups) => {\n    const newGroup = groups;\n    setSelectedDate({ ...selectedDate,\n      [name]: val\n    });\n    newGroup[name] = val;\n    setSelectedDate(newGroup);\n  };\n\n  const generator = () => {\n    var setdays, sethours;\n    const todaysDate = date.getDate();\n    const selected_date_array = selectedDate.date.split(' ');\n    const selected_date = parseInt(selected_date_array[1]); // rules\n\n    sethours = selectedDate.meridian == 'pm' ? selectedDate.hours + 12 : selectedDate.hours;\n\n    if (todaysDate < selected_date) {\n      setdays = selected_date - todaysDate;\n    }\n\n    return {\n      hours: sethours,\n      mins: selectedDate.minutes,\n      days: setdays == undefined ? 0 : setdays\n    };\n  };\n\n  const constructing_billing = () => {\n    var night_hr_rate, night_hr_max, day_hr_rate, day_hr_max, collective_days, full_day_rate, startBilling, endofdayBilling, remHr;\n    var remNight, remDay, remExtra, last_night, last_day, last_extra, startSum, lastSum;\n    day_hr_rate = 1.75;\n    var dayLimit = 3;\n    var nightLimit = 4;\n    night_hr_rate = 2;\n    day_hr_max = 5.5;\n    night_hr_max = 8;\n    full_day_rate = night_hr_max * 2 + day_hr_max;\n    var settime = generator();\n    collective_days = generator().days > 2 ? (generator().days - 2) * full_day_rate : 0; // check max hours of current day\n\n    if (date.getHours() < 6) {\n      remHr = 6 - date.getHours();\n      remNight = remHr >= nightLimit ? night_hr_max : remHr * night_hr_rate;\n      remDay = day_hr_max;\n      remExtra = night_hr_max;\n      startSum = remNight + remDay + remExtra;\n    }\n\n    if (date.getHours() > 6 && date.getHours() < 18) {\n      remHr = 18 - date.getHours();\n      remDay = remHr >= dayLimit ? day_hr_max : remHr * day_hr_rate;\n      remNight = night_hr_max;\n      remExtra = 0;\n      startSum = remNight + remDay + remExtra;\n    }\n\n    if (date.getHours() > 18) {\n      remHr = 24 - date.getHours();\n      remNight = remHr >= nightLimit ? night_hr_max : remHr * night_hr_rate;\n      remDay = 0;\n      remExtra = 0;\n      startSum = remNight + remDay + remExtra;\n    } // end\n\n\n    if (settime.hours <= 6) {\n      last_night = settime.hours >= nightLimit ? night_hr_max : settime.hours * night_hr_rate;\n      last_day = 0;\n      last_extra = 0;\n      lastSum = last_night + last_day + last_extra;\n    }\n\n    if (settime.hours > 6 && settime.hours < 18) {\n      last_night = night_hr_max;\n      last_day = settime.hours - 6 >= dayLimit ? day_hr_max : settime.hours * day_hr_rate;\n      last_extra = 0;\n      lastSum = last_night + last_day + last_extra;\n    }\n\n    if (settime.hours > 18) {\n      last_night = night_hr_max;\n      last_day = day_hr_max;\n      last_extra = 24 - settime.hours >= nightLimit ? night_hr_max : settime.hours * night_hr_rate;\n      lastSum = last_night + last_day + last_extra;\n    }\n\n    console.log(last_day);\n    console.log(lastSum);\n  };\n\n  constructing_billing();\n  generator();\n  console.log(generator()); // for (var i = 0; i < 60; i = i + 30) {\n  //     mins.push({ value: i, label: i })\n  // }\n\n  mins.push({\n    value: 0,\n    label: 0\n  });\n\n  for (var i = 0; i < 13; i++) {\n    hrs.push({\n      value: i,\n      label: i\n    });\n  }\n\n  for (var i = date.getDate() + 1; i < days_in_current_month + 1; i++) {\n    month_days.push({\n      value: `${current_month.substring(0, 3)} ${i}`,\n      label: `${current_month.substring(0, 3)} ${i}`\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"global_container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center',\n        paddingTop: '12%',\n        color: 'red'\n      },\n      children: \"Set Your Expiration Time\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ScrollableDatePicker, {\n      expired: setExpiredTime,\n      month: month_days,\n      hours: hrs,\n      minutes: mins\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        textAlign: 'center',\n        color: 'red'\n      },\n      children: \"Expires at:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: [selectedDate.date, \" - \", `${selectedDate.hours}:${selectedDate.minutes == 0 ? '00' : selectedDate.minutes}${selectedDate.meridian}`]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        textAlign: 'center',\n        color: 'red'\n      },\n      children: \"Total Cost:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: [\"$\", totalbilling]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scroll_confirm_holder\",\n      children: /*#__PURE__*/_jsxDEV(CircleBtnsImg, {\n        title: \"Confirm\",\n        img: \"\",\n        class: \"plateCapture\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LongTimeSelection, \"VrhDgOwuGWYwBN7bhHt3VQoKdMs=\");\n\n_c = LongTimeSelection;\nexport default LongTimeSelection;\n\nvar _c;\n\n$RefreshReg$(_c, \"LongTimeSelection\");","map":{"version":3,"sources":["/Users/bottlecapmedia/Documents/Applications/OneShot Parking/src/Pages/LongTimeSelection.js"],"names":["React","Picker","useContext","useEffect","useState","PaymentContext","CircleBtnsImg","PaymentGenerator","ScrollableDatePicker","LongTimeSelection","props","totalbilling","setBilling","mins","hrs","month_days","date","Date","get_days_of_month","month","year","getDate","find_todays_remaining_hrs","getHours","days_in_current_month","getMonth","getFullYear","options","current_month","Intl","DateTimeFormat","format","selectedDate","setSelectedDate","hours","minutes","setExpiredTime","name","val","groups","newGroup","generator","setdays","sethours","todaysDate","selected_date_array","split","selected_date","parseInt","meridian","days","undefined","constructing_billing","night_hr_rate","night_hr_max","day_hr_rate","day_hr_max","collective_days","full_day_rate","startBilling","endofdayBilling","remHr","remNight","remDay","remExtra","last_night","last_day","last_extra","startSum","lastSum","dayLimit","nightLimit","settime","console","log","push","value","label","i","substring","textAlign","paddingTop","color"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Picker from 'react-scrollable-picker'\nimport { useContext, useEffect, useState } from 'react/cjs/react.development'\nimport { PaymentContext } from '../Context/PaymentContext'\nimport CircleBtnsImg from '../Components/Buttons/CircleBtn_img/CircleBtnsImg'\nimport PaymentGenerator from '../Components/Financials/Calculator/PaymentGenerator'\nimport ScrollableDatePicker from '../Components/ScrollableDatePicker/ScrollableDatePicker'\n\n\n/**\n* @author\n* @function LongTimeSelection\n**/\n\nconst LongTimeSelection = (props) => {\n    const {totalbilling, setBilling, } = useContext(PaymentContext)\n    var mins = []\n    var hrs = []\n    var month_days = []\n    const date = new Date()\n    const get_days_of_month = (month, year) => {\n        return new Date(year, month, 0).getDate()\n    }\n    const find_todays_remaining_hrs = 24 - date.getHours() \n    const days_in_current_month = get_days_of_month(date.getMonth(), date.getFullYear())\n    const options = { month: 'long' }\n    const current_month = new Intl.DateTimeFormat('en-US', options).format()\n    \n\n    const [selectedDate, setSelectedDate] = useState({\n        date: '', \n        hours: 0, \n        minutes: 0\n    })\n\n\n    const setExpiredTime = (name, val, groups) => {\n        const newGroup = groups\n        setSelectedDate({\n            ...selectedDate, [name]:val\n        })\n        newGroup[name] = val\n        setSelectedDate(newGroup)\n    }\n\n \n    const generator = () => { \n        var setdays, sethours\n        const todaysDate = date.getDate()\n\n        const selected_date_array = selectedDate.date.split(' ')\n        const selected_date = parseInt(selected_date_array[1])\n\n        // rules\n        sethours = selectedDate.meridian == 'pm'?(selectedDate.hours + 12): selectedDate.hours\n        if(todaysDate < selected_date){\n            setdays = selected_date - todaysDate\n        }\n\n        return {hours:sethours, mins: selectedDate.minutes, days: setdays == undefined?0:setdays} \n    }\n\n\n    const constructing_billing = () => { \n        var night_hr_rate, night_hr_max, day_hr_rate, day_hr_max, collective_days, full_day_rate, startBilling, endofdayBilling, remHr\n        var remNight, remDay, remExtra, last_night, last_day, last_extra, startSum, lastSum\n        day_hr_rate = 1.75\n        var dayLimit = 3\n        var nightLimit = 4\n        night_hr_rate = 2\n        day_hr_max = 5.5\n        night_hr_max = 8\n        full_day_rate = (night_hr_max * 2) + day_hr_max\n        var settime = generator()\n  \n\n        collective_days = generator().days > 2?(generator().days - 2) * full_day_rate: 0\n\n        // check max hours of current day\n        if(date.getHours() < 6){\n            remHr = 6 - date.getHours()\n            remNight = remHr >= nightLimit?night_hr_max:remHr * night_hr_rate\n            remDay = day_hr_max \n            remExtra = night_hr_max\n            startSum = remNight + remDay + remExtra\n        }\n        if(date.getHours() > 6 && date.getHours() < 18){\n            remHr = 18 - date.getHours()\n            remDay = remHr >= dayLimit?day_hr_max:remHr * day_hr_rate\n            remNight = night_hr_max \n            remExtra = 0\n            startSum = remNight + remDay + remExtra\n\n        }\n        if(date.getHours() > 18){\n            remHr = 24 - date.getHours()\n            remNight = remHr >= nightLimit?night_hr_max:remHr * night_hr_rate\n            remDay = 0\n            remExtra = 0\n            startSum = remNight + remDay + remExtra\n        }\n\n        // end\n        if(settime.hours <= 6){\n            last_night = settime.hours >= nightLimit?night_hr_max:settime.hours * night_hr_rate\n            last_day = 0\n            last_extra = 0\n            lastSum = last_night + last_day + last_extra\n        }\n        if(settime.hours > 6 && settime.hours < 18){\n            last_night = night_hr_max\n            last_day = (settime.hours - 6) >= dayLimit?day_hr_max:settime.hours * day_hr_rate\n            last_extra = 0\n            lastSum = last_night + last_day + last_extra\n        }\n        if(settime.hours > 18){\n            last_night = night_hr_max\n            last_day = day_hr_max\n            last_extra = 24 - settime.hours >= nightLimit?night_hr_max:settime.hours * night_hr_rate\n            lastSum = last_night + last_day + last_extra\n        }\n\n \n        console.log(last_day)\n        console.log(lastSum)\n    }\nconstructing_billing()\n\n\n\ngenerator()\nconsole.log(generator())\n\n    // for (var i = 0; i < 60; i = i + 30) {\n    //     mins.push({ value: i, label: i })\n    // }\n    mins.push({ value: 0, label: 0 })\n\n    for (var i = 0; i < 13; i++) {\n        hrs.push({ value: i, label: i })\n    }\n    for (var i = date.getDate() +1; i < (days_in_current_month + 1); i++) {\n        month_days.push({ value: `${current_month.substring(0, 3)} ${i}`, label: `${current_month.substring(0, 3)} ${i}` })\n    }\n\n\n    return (\n        <div className='global_container'>\n            <h2 style={{ textAlign: 'center', paddingTop: '12%', color: 'red' }}>Set Your Expiration Time</h2>\n            <ScrollableDatePicker expired={setExpiredTime} month={month_days} hours={hrs} minutes={mins} />\n            <h4 style={{ textAlign: 'center', color: 'red' }}>Expires at:</h4>\n            <p style={{textAlign:'center'}}>{selectedDate.date} - {`${selectedDate.hours}:${selectedDate.minutes == 0?'00':selectedDate.minutes}${selectedDate.meridian}`}</p>\n            <h4 style={{ textAlign: 'center', color: 'red' }}>Total Cost:</h4>\n            <p style={{textAlign:'center'}}>${totalbilling}</p>\n\n            <div className='scroll_confirm_holder'>\n                <CircleBtnsImg title='Confirm' img='' class='plateCapture' />\n            </div>\n        </div>\n    )\n\n}\n\nexport default LongTimeSelection;\n"]},"metadata":{},"sourceType":"module"}