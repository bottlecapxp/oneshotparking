{"ast":null,"code":"import _slicedToArray from\"/Users/bottlecapmedia/Desktop/Applications/OneShot Parking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import{useHistory}from'react-router-dom';import'../CircleBtn_img/CircleBtnimg.css';import{PaymentContext}from'../../../Context/PaymentContext';import{jsx as _jsx}from\"react/jsx-runtime\";var CircleBtnsImg=function CircleBtnsImg(props){var history=useHistory();var darkMode=1800;var _useState=useState({buttonStyles:'btn-confirm'}),_useState2=_slicedToArray(_useState,2),darkModeStyle=_useState2[0],setDarkModeStyle=_useState2[1];useEffect(function(){if(darkMode>=1800||darkMode<=600){setDarkModeStyle({buttonStyles:'btn-confirm-dark'});}if(darkMode<1800||darkMode>600){setDarkModeStyle({buttonStyles:'btn-confirm'});}},[]);var _useState3=useState({title:props.title,img:props.img,extra:props.class}),_useState4=_slicedToArray(_useState3,1),timer=_useState4[0];var _useContext=useContext(PaymentContext),time=_useContext.time;var currentTime=new Date();var newTime=parseInt(\"\".concat(currentTime.getHours()).concat(currentTime.getMinutes()));var expiredTime=newTime+time;// const {time} = useContext(TimeContext)\n// Use this information to store in the database with added time to create the fixed limit\n// Then cross reference the current time with limit which should now provide the value to begin the cound down\n// This way we do not loose count down data in reload \n// var getTime = new Date()\n// var currentHours = getTime.getHours()\n// var currentMins = getTime.getMinutes()\n// console.log(`${currentHours}:${currentMins}`)\nvar payment_action=function payment_action(){// Check local storage to see if it's Empty or Null\nif(localStorage.getItem('timeStore')===null){// if true then store given time to localstorage\nlocalStorage.setItem('timeStore',\"\".concat(time));console.log(expiredTime);history.push('/guest/');}// We're checking to see if time exist if it does then capture and instatiate time as new time then perform task to that time to then push back to localstorage as new time post\nelse if(localStorage.getItem('timeStore')!=null){localStorage.removeItem('timeStore');updatingTime(time);history.push('/guest/');}};var updatingTime=function updatingTime(time){localStorage.setItem('timeStore',time);};return/*#__PURE__*/_jsx(\"span\",{onClick:payment_action,className:\"\".concat(darkModeStyle.buttonStyles,\" content-align \").concat(timer.extra),children:/*#__PURE__*/_jsx(\"span\",{className:\"confirm_title\",children:timer.title})});};export default CircleBtnsImg;","map":{"version":3,"sources":["/Users/bottlecapmedia/Desktop/Applications/OneShot Parking/src/Components/Buttons/CircleBtn_img/CircleBtnsImg.js"],"names":["React","useState","useEffect","useContext","useHistory","PaymentContext","CircleBtnsImg","props","history","darkMode","buttonStyles","darkModeStyle","setDarkModeStyle","title","img","extra","class","timer","time","currentTime","Date","newTime","parseInt","getHours","getMinutes","expiredTime","payment_action","localStorage","getItem","setItem","console","log","push","removeItem","updatingTime"],"mappings":"iLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAAyBC,SAAzB,CAAoCC,UAApC,KAAsD,OAAtD,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAO,mCAAP,CACA,OAAQC,cAAR,KAA6B,iCAA7B,C,2CAIA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC7B,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,GAAMK,CAAAA,QAAQ,CAAG,IAAjB,CAF6B,cAGaR,QAAQ,CAAC,CAC/CS,YAAY,CAAE,aADiC,CAAD,CAHrB,wCAGtBC,aAHsB,eAGPC,gBAHO,eASjCV,SAAS,CAAC,UAAI,CACV,GAAGO,QAAQ,EAAI,IAAZ,EAAoBA,QAAQ,EAAI,GAAnC,CAAuC,CACnCG,gBAAgB,CAAC,CACbF,YAAY,CAAE,kBADD,CAAD,CAAhB,CAIH,CACD,GAAGD,QAAQ,CAAG,IAAX,EAAmBA,QAAQ,CAAG,GAAjC,CAAqC,CACjCG,gBAAgB,CAAC,CACbF,YAAY,CAAE,aADD,CAAD,CAAhB,CAIH,CACJ,CAbQ,CAaN,EAbM,CAAT,CATiC,eAwBbT,QAAQ,CAAC,CACrBY,KAAK,CAAEN,KAAK,CAACM,KADQ,CAErBC,GAAG,CAAEP,KAAK,CAACO,GAFU,CAGrBC,KAAK,CAAER,KAAK,CAACS,KAHQ,CAAD,CAxBK,yCAwBtBC,KAxBsB,+BA6Bdd,UAAU,CAACE,cAAD,CA7BI,CA6BtBa,IA7BsB,aA6BtBA,IA7BsB,CA8B7B,GAAMC,CAAAA,WAAW,CAAG,GAAIC,CAAAA,IAAJ,EAApB,CACA,GAAIC,CAAAA,OAAO,CAAGC,QAAQ,WAAIH,WAAW,CAACI,QAAZ,EAAJ,SAA6BJ,WAAW,CAACK,UAAZ,EAA7B,EAAtB,CACA,GAAMC,CAAAA,WAAW,CAAGJ,OAAO,CAAGH,IAA9B,CACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA,GAAMQ,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzB;AACJ,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,IAAsC,IAAzC,CAA8C,CAC1C;AACAD,YAAY,CAACE,OAAb,CAAqB,WAArB,WAAqCX,IAArC,GACAY,OAAO,CAACC,GAAR,CAAYN,WAAZ,EACAjB,OAAO,CAACwB,IAAR,CAAa,SAAb,EACH,CACD;AANA,IAOK,IAAGL,YAAY,CAACC,OAAb,CAAqB,WAArB,GAAqC,IAAxC,CAA6C,CAC9CD,YAAY,CAACM,UAAb,CAAwB,WAAxB,EACAC,YAAY,CAAChB,IAAD,CAAZ,CAEAV,OAAO,CAACwB,IAAR,CAAa,SAAb,EAEH,CAEA,CAjBD,CAmBA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAChB,IAAD,CAAU,CACvBS,YAAY,CAACE,OAAb,CAAqB,WAArB,CAAkCX,IAAlC,EACP,CAFD,CAIA,mBACI,aAAM,OAAO,CAAEQ,cAAf,CAA+B,SAAS,WAAKf,aAAa,CAACD,YAAnB,2BAAiDO,KAAK,CAACF,KAAvD,CAAxC,uBACI,aAAM,SAAS,CAAC,eAAhB,UAAiCE,KAAK,CAACJ,KAAvC,EADJ,EADJ,CAKH,CAxED,CAyEA,cAAeP,CAAAA,aAAf","sourcesContent":["import React, { useState,useEffect, useContext } from \"react\"\nimport {useHistory} from 'react-router-dom'\nimport '../CircleBtn_img/CircleBtnimg.css'\nimport {PaymentContext} from '../../../Context/PaymentContext'\n\n\n\nconst CircleBtnsImg = (props) => {\n    const history = useHistory()\n    const darkMode = 1800\n    const [darkModeStyle, setDarkModeStyle] = useState({\n        buttonStyles: 'btn-confirm', \n \n    })\n\n\nuseEffect(()=>{\n    if(darkMode >= 1800 || darkMode <= 600){\n        setDarkModeStyle({\n            buttonStyles: 'btn-confirm-dark',\n            \n        })\n    }\n    if(darkMode < 1800 || darkMode > 600){\n        setDarkModeStyle({\n            buttonStyles: 'btn-confirm',\n            \n        })\n    }\n}, [])\n\n    const [timer] = useState({\n        title: props.title,\n        img: props.img,\n        extra: props.class\n    })\n    const {time} = useContext(PaymentContext)\n    const currentTime = new Date();\n    var newTime = parseInt(`${currentTime.getHours()}${currentTime.getMinutes()}`)\n    const expiredTime = newTime + time\n    // const {time} = useContext(TimeContext)\n    \n    // Use this information to store in the database with added time to create the fixed limit\n    // Then cross reference the current time with limit which should now provide the value to begin the cound down\n    // This way we do not loose count down data in reload \n    // var getTime = new Date()\n    // var currentHours = getTime.getHours()\n    // var currentMins = getTime.getMinutes()\n\n\n    // console.log(`${currentHours}:${currentMins}`)\n    const payment_action = () => {\n        // Check local storage to see if it's Empty or Null\n    if(localStorage.getItem('timeStore') === null){\n        // if true then store given time to localstorage\n        localStorage.setItem('timeStore', `${time}`)\n        console.log(expiredTime)\n        history.push('/guest/')\n    }\n    // We're checking to see if time exist if it does then capture and instatiate time as new time then perform task to that time to then push back to localstorage as new time post\n    else if(localStorage.getItem('timeStore') != null){\n        localStorage.removeItem('timeStore')\n        updatingTime(time)\n\n        history.push('/guest/')\n       \n    }\n\n    }\n\n    const updatingTime = (time) => {\n            localStorage.setItem('timeStore', time)     \n    }\n\n    return (\n        <span onClick={payment_action} className={`${darkModeStyle.buttonStyles} content-align ${timer.extra}`}>\n            <span className='confirm_title'>{timer.title}</span>\n        </span>\n    )\n}\nexport default CircleBtnsImg;"]},"metadata":{},"sourceType":"module"}