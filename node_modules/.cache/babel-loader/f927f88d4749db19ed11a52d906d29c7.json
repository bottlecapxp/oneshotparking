{"ast":null,"code":"import _slicedToArray from\"/Users/bottlecapmedia/Desktop/Applications/OneShot Parking/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from\"react\";import{PaymentContext}from'../../Context/PaymentContext';import\"../Timer/Timer.css\";import Moon from'../../Assets/moon.png';import Day from\"../../Assets/sun.svg\";import{CircularInput,CircularTrack,CircularProgress,CircularThumb}from\"react-circular-input\";import TimerLogic from\"./TimerLogic\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Timer=function Timer(props){// const today = new Date();\nvar timerLogic=new TimerLogic();var _useContext=useContext(PaymentContext),totalbilling=_useContext.totalbilling,dayTime=_useContext.dayTime,dayTimeBilling=_useContext.dayTimeBilling,nightTime=_useContext.nightTime,nightTimeBilling=_useContext.nightTimeBilling,setExpiredTime=_useContext.setExpiredTime,setStartTime=_useContext.setStartTime,darkMode=_useContext.darkMode;// const pGenerator = new PaymentGenerator();\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),validateDayTime=_useState4[0],setDayTimeValidation=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),validateNightTime=_useState6[0],setNightTimeValidation=_useState6[1];var _useState7=useState({circleContainer:'timeInfo',costAmount:'cost_amount',circularTrack:'#eee'}),_useState8=_slicedToArray(_useState7,2),darkModeStyle=_useState8[0],setDarkModeStyle=_useState8[1];var hours=Math.floor(timerLogic.scrollTime(timerLogic.stepValue(value))/100);var minutes=timerLogic.scrollTime(timerLogic.stepValue(value))%100;var timeUnit='am';var cTimeUnit='am';if(minutes==0){minutes=parseInt('00');}var currentTime=new Date();var expiredMinutes=parseInt(currentTime.getMinutes()+minutes);var expiredHours=currentTime.getHours()+hours;if(expiredMinutes>60){expiredMinutes=expiredMinutes-60;expiredHours=expiredHours+1;}if(expiredMinutes<10){expiredMinutes=parseInt(\"\".concat(0,expiredMinutes));}if(expiredHours==24){hours=12;timeUnit='am';}if(expiredHours>24){hours=hours-24;timeUnit='am';}if(expiredHours>=12){timeUnit='pm';}if(currentTime.getHours()>=12){cTimeUnit='pm';}else{cTimeUnit='am';}var expTime=\"\".concat(expiredHours,\":\").concat(expiredMinutes).concat(timeUnit);var expTimeInSecs=expiredHours*3600+expiredMinutes*60;var startTime=\"\".concat(currentTime.getHours(),\":\").concat(currentTime.getMinutes()).concat(cTimeUnit);setExpiredTime(expTime);localStorage.setItem('expTimeInSecs',expTimeInSecs);localStorage.setItem('expTime',expTime);localStorage.setItem('total',totalbilling);// Keeps track of time changes\nuseEffect(function(){if(darkMode>=1800||darkMode<=600){setDarkModeStyle({circleContainer:'timeInfo_dark',costAmount:'cost_amount_dark',circularTrack:'#1B242F'});}setValue(value+props.addTime);if(dayTime==0){setDayTimeValidation(true);}else{setDayTimeValidation(false);}if(nightTime==0){setNightTimeValidation(true);}localStorage.setItem('startTime',startTime);setStartTime(startTime);},[props.addTime]);return/*#__PURE__*/_jsxs(\"div\",{className:\"timer_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timer_holder\",children:[/*#__PURE__*/_jsx(\"div\",{id:darkModeStyle.circleContainer,children:/*#__PURE__*/_jsxs(\"div\",{id:\"time_holder\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"set_time\",style:{marginTop:'10px'},children:\"Set Duration\"}),/*#__PURE__*/_jsx(\"p\",{id:\"time\",children:\"\".concat(hours,\"h:\").concat(minutes,\"m\")}),/*#__PURE__*/_jsx(\"p\",{className:\"set_time\",style:{marginTop:'10px'},children:\"Expires at\"}),/*#__PURE__*/_jsx(\"p\",{className:\"rate_\",style:{textAlign:'center'},children:expTime})]})}),/*#__PURE__*/_jsxs(CircularInput,{value:timerLogic.stepValue(value),onChange:function onChange(v){return setValue(timerLogic.stepValue(v));},children:[/*#__PURE__*/_jsx(CircularTrack,{strokeWidth:8,stroke:darkModeStyle.circularTrack}),/*#__PURE__*/_jsx(CircularProgress,{className:\"bar\",stroke:\"#ff4f4f\",strokeWidth:12}),/*#__PURE__*/_jsx(CircularThumb,{r:15,fill:\"#F0F0F3\",stroke:\"#ff4f4f\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cost_holder\",children:[/*#__PURE__*/_jsx(\"div\",{id:darkModeStyle.costAmount,children:\"Total Cost: \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[\"$\",\"\".concat(totalbilling)]})]})]});};export default Timer;// <div className='overlap_Cost'>\n// {/* Day rate */}\n// <div className='day_rate'>\n// \t<div className='info_holder dayRate_icon'>\n// \t<img id='sun' src={Day} alt='sun'></img>\n// \t</div>\n// \t<div id='hours_' className='info_holder dayRate_time'>{Math.floor(dayTime/100)}hrs : {Math.floor(dayTime%100)}mins</div>\n// \t<div id='cost_' className='info_holder dayRate_cost'>${dayTimeBilling}</div>\n// </div>\n// {/* Night Rate */}\n// <div className='night_rate'>\n// \t<div className='info_holder nightRate_icon'>\n// \t<img id='moon' src={Moon} alt='moon'></img>\n// \t</div>\n// \t<div id='hours_' className='info_holder dayRate_time'>{Math.floor(nightTime/100)}hrs : {Math.floor(nightTime%100)}mins</div>\n// \t<div id='cost_' className='info_holder dayRate_cost'>${nightTimeBilling}</div>\n// </div>\n// </div>","map":{"version":3,"sources":["/Users/bottlecapmedia/Desktop/Applications/OneShot Parking/src/Components/Timer/Timer.js"],"names":["React","useContext","useState","useEffect","PaymentContext","Moon","CircularInput","CircularTrack","CircularProgress","CircularThumb","TimerLogic","Timer","props","timerLogic","totalbilling","dayTime","dayTimeBilling","nightTime","nightTimeBilling","setExpiredTime","setStartTime","darkMode","value","setValue","validateDayTime","setDayTimeValidation","validateNightTime","setNightTimeValidation","circleContainer","costAmount","circularTrack","darkModeStyle","setDarkModeStyle","hours","Math","floor","scrollTime","stepValue","minutes","timeUnit","cTimeUnit","parseInt","currentTime","Date","expiredMinutes","getMinutes","expiredHours","getHours","expTime","expTimeInSecs","startTime","localStorage","setItem","addTime","marginTop","textAlign","v"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { PaymentContext } from '../../Context/PaymentContext'\nimport \"../Timer/Timer.css\";\nimport Moon from '../../Assets/moon.png'\nimport Day from '../../Assets/sun.svg'\n\nimport {\n\tCircularInput,\n\tCircularTrack,\n\tCircularProgress,\n\tCircularThumb,\n} from \"react-circular-input\";\nimport TimerLogic from \"./TimerLogic\";\n\n\n\nconst Timer = (props) => {\n\t// const today = new Date();\n\tconst timerLogic = new TimerLogic();\n\tconst { totalbilling, dayTime, dayTimeBilling, nightTime, nightTimeBilling, setExpiredTime, setStartTime, darkMode } = useContext(PaymentContext)\n\t// const pGenerator = new PaymentGenerator();\n\tconst [value, setValue] = useState(null);\n\tconst [validateDayTime, setDayTimeValidation] = useState()\n\tconst [validateNightTime, setNightTimeValidation] = useState()\n\tconst [darkModeStyle, setDarkModeStyle] = useState({\n\t\tcircleContainer: 'timeInfo', \n\t\tcostAmount: 'cost_amount',\n\t\tcircularTrack: '#eee'\n\t\t \n\t })\n\n\tvar hours = Math.floor(timerLogic.scrollTime(timerLogic.stepValue(value))/100)\n\tvar minutes = timerLogic.scrollTime(timerLogic.stepValue(value))%100\n\tvar timeUnit = 'am'\n\tvar cTimeUnit = 'am'\n\tif(minutes == 0){\n\t\tminutes = parseInt(`${'00'}`)\n\t}\n\n\tconst currentTime = new Date();\n\n\tvar expiredMinutes = parseInt(currentTime.getMinutes() + minutes)\n\tvar expiredHours = currentTime.getHours() + hours\n\tif(expiredMinutes > 60){\n\t\texpiredMinutes = expiredMinutes - 60\n\t\texpiredHours = expiredHours + 1\n\t}\n\tif(expiredMinutes < 10){\n\t\texpiredMinutes = parseInt(`${0}${expiredMinutes}`)\n\t}\n\tif(expiredHours == 24){\n\t\thours = 12\n\t\ttimeUnit = 'am'\n\t}\n\tif(expiredHours > 24){\n\t\thours = hours - 24\n\t\ttimeUnit = 'am'\n\t}\n\tif(expiredHours >= 12){\n\t\ttimeUnit = 'pm'\n\t}\n\n\tif(currentTime.getHours() >= 12){\n\t\tcTimeUnit = 'pm'\n\t}else{\n\t\tcTimeUnit = 'am'\n\t}\n\tvar expTime = `${expiredHours}:${expiredMinutes}${timeUnit}`\n\tvar expTimeInSecs = (expiredHours * 3600) + (expiredMinutes * 60)\n\tvar startTime = `${currentTime.getHours()}:${currentTime.getMinutes()}${cTimeUnit}`\n\tsetExpiredTime(expTime)\n\tlocalStorage.setItem('expTimeInSecs', expTimeInSecs)\n\tlocalStorage.setItem('expTime', expTime)\n\tlocalStorage.setItem('total', totalbilling)\n\t// Keeps track of time changes\n\tuseEffect(() => {\n\n\t\t\tif(darkMode >= 1800 || darkMode <= 600){\n\t\t\t\tsetDarkModeStyle({\n\t\t\t\t\tcircleContainer: 'timeInfo_dark', \n\t\t\t\t\tcostAmount: 'cost_amount_dark', \n\t\t\t\t\tcircularTrack: '#1B242F'\n\t\t\t\t})\n\t\t\t}\n\n\n\n\t\tsetValue(value + props.addTime);\n\t\tif (dayTime == 0) {\n\t\t\tsetDayTimeValidation(true)\n\t\t} else { setDayTimeValidation(false) }\n\t\tif (nightTime == 0) {\n\t\t\tsetNightTimeValidation(true)\n\t\t}\n\t\tlocalStorage.setItem('startTime', startTime)\n\t\t\n\t\t\n\t\tsetStartTime(startTime)\n\n\t}, [props.addTime]);\n\n\treturn (\n\t\t<div className='timer_container'>\n\t\t\t<div className='timer_holder'>\n\t\t\t\t<div id={darkModeStyle.circleContainer}>\n\t\t\t\t\t<div id='time_holder'>\n\t\t\t\t\t<p className='set_time' style={{marginTop: '10px'}}>Set Duration</p>\n\t\t\t\t\t\t<p id='time'>{`${hours}h:${minutes}m`}</p>\n\n\t\t\t\t\t<p className='set_time' style={{marginTop: '10px'}}>Expires at</p>\n\t\t\t\t\t<p className='rate_' style={{textAlign: 'center'}}>{expTime}</p>\n\t\n\t\t\t\t\t\t{/* <p className='set_time'>Daily Rates</p> */}\n\t\t\t\t\t\t{/* Rates Settings */}\n\t\t\t\t\t\t{/* <div className='rate_container'>\n\t\t\t\t\t\t\t<div className='daily_container day'>\n\t\t\t\t\t\t\t\t<img id='sun' src={Day} alt='sun'></img>\n\t\t\t\t\t\t\t\t<p className='rate_'>$4hr</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='daily_container night'>\n\t\t\t\t\t\t\t\t<img id='moon' src={Moon} alt='moon'></img>\n\t\t\t\t\t\t\t\t<p className='rate_'>$6hr</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<CircularInput\n\t\t\t\t\tvalue={timerLogic.stepValue(value)}\n\t\t\t\t\tonChange={(v) => setValue(timerLogic.stepValue(v))}>\n\t\t\t\t\t<CircularTrack strokeWidth={8} stroke={darkModeStyle.circularTrack} />\n\t\t\t\t\t<CircularProgress className='bar' stroke='#ff4f4f' strokeWidth={12} />\n\t\t\t\t\t<CircularThumb r={15} fill='#F0F0F3' stroke='#ff4f4f' />\n\t\t\t\t</CircularInput>\n\t\t\t</div>\n\n\n\t\t\t<div className='cost_holder'><div id={darkModeStyle.costAmount}>Total Cost: </div><div className='price'>${`${totalbilling}`}</div></div>\n\n\t\t</div>\n\t);\n};\nexport default Timer;\n\n// <div className='overlap_Cost'>\n// {/* Day rate */}\n// <div className='day_rate'>\n// \t<div className='info_holder dayRate_icon'>\n// \t<img id='sun' src={Day} alt='sun'></img>\n// \t</div>\n\n// \t<div id='hours_' className='info_holder dayRate_time'>{Math.floor(dayTime/100)}hrs : {Math.floor(dayTime%100)}mins</div>\n// \t<div id='cost_' className='info_holder dayRate_cost'>${dayTimeBilling}</div>\n\n// </div>\n// {/* Night Rate */}\n// <div className='night_rate'>\n// \t<div className='info_holder nightRate_icon'>\n// \t<img id='moon' src={Moon} alt='moon'></img>\n// \t</div>\n// \t<div id='hours_' className='info_holder dayRate_time'>{Math.floor(nightTime/100)}hrs : {Math.floor(nightTime%100)}mins</div>\n// \t<div id='cost_' className='info_holder dayRate_cost'>${nightTimeBilling}</div>\n\n// </div>\n\n// </div>"]},"metadata":{},"sourceType":"module"}